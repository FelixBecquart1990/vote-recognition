(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["video"],{"81a8":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-recognition"},[i("div",{staticClass:"d-flex justify-center"},[i("video",{ref:"video",attrs:{id:"video",width:"640",height:"480",autoplay:""}})]),i("div",{staticClass:"d-flex justify-center",staticStyle:{"margin-top":"-50px"}},[i("v-btn",{attrs:{depressed:"",rounded:"",loading:t.loading},on:{click:function(e){return t.toggle()}}},[t._v(t._s(t.start?"Stop":"Start"))])],1),t._m(0),t._m(1),i("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"canvas",attrs:{id:"canvas",width:"640",height:"480"}}),i("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticStyle:{height:"100vh",width:"100vw"},attrs:{src:t.capture,id:"image"}})])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex justify-end"},[i("div",{staticClass:"chart"},[i("div",{staticClass:"yes"},[t._v("10")]),i("div",{staticClass:"no"},[t._v("2")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex justify-end"},[i("div",{staticClass:"labels"},[i("div",{staticClass:"yes-label"},[t._v("Yes")]),i("div",{staticClass:"no-label"},[t._v("No")])])])}],n=(i("96cf"),i("1da1")),r=i("3fdc"),o=i("8726"),c={name:"video-recognition",components:{BarChart:r["a"]},data:function(){return{result:[0,1],video:{},canvas:{},capture:null,start:!1,loading:!1,interval:null}},methods:{toggle:function(){if(0==this.start){this.loading=!0,this.start=!0,this.predict();var t=this;this.interval=setInterval(t.predict(),2e3)}else this.start=!1,clearInterval(this.interval)},predict:function(){this.start&&this.estimateMultiplePosesOnImage(document.getElementById("image"))},takePicture:function(){this.canvas=this.$refs.canvas;this.canvas.getContext("2d").drawImage(this.video,0,0,640,480);this.capture=this.canvas.toDataURL("image/png")},estimateMultiplePosesOnImage:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,o["a"]();case 2:return s=i.sent,e.takePicture(),i.next=6,s.estimateMultiplePoses(t,{flipHorizontal:!1,maxDetections:20,scoreThreshold:.6,nmsRadius:2});case 6:if(a=i.sent,e.start){i.next=9;break}return i.abrupt("return");case 9:e.numberOfVotes(a),e.loading=!1,e.predict();case 12:case"end":return i.stop()}}),i)})))()},numberOfVotes:function(t){var e=0,i=0,s=0;while(t[s])t[s].score>.2&&(t[s].keypoints[5].position.y>t[s].keypoints[9].position.y||t[s].keypoints[6].position.y>t[s].keypoints[10].position.y?e++:i++),s++;this.result=[e,i],console.log(this.result)}},mounted:function(){var t=this;this.video=this.$refs.video,navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){t.video.srcObject=e,t.video.play()}))}},l=c,d=(i("8a44"),i("2877")),v=i("6544"),u=i.n(v),h=i("8336"),f=Object(d["a"])(l,s,a,!1,null,null,null);e["default"]=f.exports;u()(f,{VBtn:h["a"]})},"8a44":function(t,e,i){"use strict";var s=i("fd34"),a=i.n(s);a.a},fd34:function(t,e,i){}}]);
//# sourceMappingURL=video.78431294.js.map