(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["video"],{"81a8":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"video-recognition"},[s("v-btn",{staticStyle:{position:"fixed","z-index":"2",left:"5px",top:"5px"},attrs:{fab:"",depressed:"",color:"transparent",to:"/",small:""}},[s("v-icon",{staticStyle:{"text-shadow":"0px 2px 6px rgba(0, 0, 0, 0.5)"},attrs:{color:"white"}},[t._v("mdi-arrow-left")])],1),s("v-btn",{staticStyle:{position:"fixed","z-index":"2",left:"35px",top:"5px"},attrs:{fab:"",depressed:"",color:"transparent",small:"",dark:"",loading:t.loading},on:{click:function(e){return t.toggle()}}},[s("v-icon",{staticStyle:{"text-shadow":"0px 2px 6px rgba(0, 0, 0, 0.5)"},attrs:{color:"white"}},[t._v(t._s(t.start?"mdi-stop":"mdi-play"))])],1),s("div",{staticStyle:{position:"fixed","z-index":"1",top:"4vh",width:"100%"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.question,expression:"question"}],attrs:{placeholder:"Write your question here..."},domProps:{value:t.question,innerHTML:t._s(t.question)},on:{input:function(e){e.target.composing||(t.question=e.target.value)}}})]),s("div",{staticClass:"d-flex justify-center"},[s("video",{ref:"video",attrs:{id:"video",width:"640",height:"480",autoplay:""}})]),s("div",{staticClass:"chart-labels"},[s("div",{staticClass:"chart"},[s("div",{staticClass:"yes",style:{height:50*t.result[0]+"px"}},[t._v(t._s(0!=t.result[0]?t.result[0]:" "))]),s("div",{staticClass:"no",style:{height:50*t.result[1]+"px"}},[t._v(t._s(0!=t.result[1]?t.result[1]:" "))])]),t._m(0)]),s("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"canvas",attrs:{id:"canvas",width:"640",height:"480"}}),s("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticStyle:{height:"100vh",width:"100vw"},attrs:{src:t.capture,id:"image"}})],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"labels"},[s("div",{staticClass:"yes-label"},[t._v("Yes")]),s("div",{staticClass:"no-label"},[t._v("No")])])}],n=(s("96cf"),s("1da1")),o=s("8726"),r={name:"video-recognition",data:function(){return{result:[0,0],video:{},canvas:{},capture:null,start:!1,loading:!1,interval:null,question:""}},methods:{toggle:function(){0==this.start?(this.loading=!0,this.start=!0,this.predict()):this.start=!1},predict:function(){this.start&&this.estimateMultiplePosesOnImage()},takePicture:function(){this.canvas=this.$refs.canvas;this.canvas.getContext("2d").drawImage(this.video,0,0,640,480);this.capture=this.canvas.toDataURL("image/png")},estimateMultiplePosesOnImage:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,i,a,n,r,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=performance.now(),t.takePicture(),i=document.getElementById("image"),""==i.src){e.next=14;break}return e.next=6,o["a"]();case 6:return a=e.sent,e.next=9,a.estimateMultiplePoses(i,{flipHorizontal:!1,maxDetections:20,scoreThreshold:.6,nmsRadius:2});case 9:if(n=e.sent,t.start){e.next=12;break}return e.abrupt("return");case 12:t.numberOfVotes(n),t.loading=!1;case 14:r=performance.now(),r-s>2e3?t.estimateMultiplePosesOnImage():(l=t,setTimeout((function(){l.estimateMultiplePosesOnImage()}),2e3));case 16:case"end":return e.stop()}}),e)})))()},numberOfVotes:function(t){var e=0,s=0,i=0;while(t[i])t[i].score>.2&&(t[i].keypoints[5].position.y>t[i].keypoints[9].position.y||t[i].keypoints[6].position.y>t[i].keypoints[10].position.y?e++:s++),i++;this.result=[e,s],console.log(this.result)}},mounted:function(){var t=this;this.video=this.$refs.video,navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){t.video.srcObject=e,t.video.play()}))}},l=r,c=(s("8a44"),s("2877")),d=s("6544"),u=s.n(d),v=s("8336"),p=s("132d"),h=Object(c["a"])(l,i,a,!1,null,null,null);e["default"]=h.exports;u()(h,{VBtn:v["a"],VIcon:p["a"]})},"8a44":function(t,e,s){"use strict";var i=s("fd34"),a=s.n(i);a.a},fd34:function(t,e,s){}}]);
//# sourceMappingURL=video.873e4c14.js.map